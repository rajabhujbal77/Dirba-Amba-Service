import{_ as A}from"./vendor-pdf-DRk-497H.js";import{r as p,j as e}from"./vendor-radix-BK0gN1wx.js";import{r as N,j as _}from"./index-ByUUsPfb.js";import"./vendor-react-BRY8hXab.js";import"./vendor-state-B-0uGrSJ.js";function G({assignedDepotId:h}){const[x,f]=p.useState({from:"",to:""}),[v,R]=p.useState("bookings"),[P,T]=p.useState(!0),[n,k]=p.useState({totalBookings:0,bookedCount:0,inTransitCount:0,deliveredCount:0,pendingCount:0,totalRevenue:0,totalPackages:0,revenueByMethod:{cash:0,online:0,to_pay:0,credit:0}}),[d,S]=p.useState({totalTrips:0,completedTrips:0,activeTrips:0,pendingTrips:0,totalTripCost:0}),[u,O]=p.useState([]),[b,E]=p.useState([]),[l,B]=p.useState({accounts:[],totalCredit:0,totalAdvancePaid:0,totalNetOutstanding:0});p.useEffect(()=>{$()},[]);const $=async()=>{T(!0);try{const s=x.from||void 0,t=x.to||void 0,[m,a,y,c,r]=await Promise.all([N.getBookingSummary(s,t,h),N.getTripSummary(s,t,h),N.getTopCustomers(5,s,t,h),N.getTopRoutes(5,s,t,h),_.getCreditSummary(h)]);k(m),S(a),O(y.customers),E(c.routes),B(r)}catch(s){console.error("Error loading reports:",s)}finally{T(!1)}},F=()=>{$()},o=s=>s>=1e5?`₹${(s/1e5).toFixed(2)}L`:`₹${s.toLocaleString("en-IN")}`,M=async()=>{const{jsPDF:s}=await A(async()=>{const{jsPDF:c}=await import("./vendor-pdf-DRk-497H.js").then(r=>r.j);return{jsPDF:c}},[]),t=new s,m=t.internal.pageSize.getWidth();let a=20;t.setFontSize(20),t.setFont("helvetica","bold"),t.text("DRT Mango Transport - Reports",m/2,a,{align:"center"}),a+=10,t.setFontSize(10),t.setFont("helvetica","normal");const y=x.from&&x.to?`Period: ${x.from} to ${x.to}`:"Period: All Time";t.text(y,m/2,a,{align:"center"}),a+=15,t.setFontSize(14),t.setFont("helvetica","bold"),t.text("Booking Summary",14,a),a+=8,t.setFontSize(10),t.setFont("helvetica","normal"),t.text(`Total Bookings: ${n.totalBookings}`,14,a),a+=6,t.text(`Delivered: ${n.deliveredCount}`,14,a),a+=6,t.text(`In Transit: ${n.inTransitCount}`,14,a),a+=6,t.text(`Booked (Pending): ${n.bookedCount}`,14,a),a+=6,t.text(`Total Revenue: ${o(n.totalRevenue)}`,14,a),a+=6,t.text(`Total Packages: ${n.totalPackages}`,14,a),a+=12,t.setFontSize(14),t.setFont("helvetica","bold"),t.text("Trip Summary",14,a),a+=8,t.setFontSize(10),t.setFont("helvetica","normal"),t.text(`Total Trips: ${d.totalTrips}`,14,a),a+=6,t.text(`Completed: ${d.completedTrips}`,14,a),a+=6,t.text(`Active: ${d.activeTrips}`,14,a),a+=6,t.text(`Total Trip Cost: ${o(d.totalTripCost)}`,14,a),a+=12,t.setFontSize(14),t.setFont("helvetica","bold"),t.text("Revenue by Payment Method",14,a),a+=8,t.setFontSize(10),t.setFont("helvetica","normal"),t.text(`Cash: ${o(n.revenueByMethod.cash)}`,14,a),a+=6,t.text(`Online: ${o(n.revenueByMethod.online)}`,14,a),a+=6,t.text(`To Pay: ${o(n.revenueByMethod.to_pay)}`,14,a),a+=6,t.text(`Credit: ${o(n.revenueByMethod.credit)}`,14,a),a+=12,u.length>0&&(t.setFontSize(14),t.setFont("helvetica","bold"),t.text("Top Customers",14,a),a+=8,t.setFontSize(10),t.setFont("helvetica","normal"),u.forEach((c,r)=>{t.text(`${r+1}. ${c.name} - ${c.bookings} bookings - ${o(c.revenue)}`,14,a),a+=6}),a+=6),b.length>0&&(t.setFontSize(14),t.setFont("helvetica","bold"),t.text("Top Routes",14,a),a+=8,t.setFontSize(10),t.setFont("helvetica","normal"),b.forEach((c,r)=>{t.text(`${r+1}. ${c.route} - ${c.trips} bookings - ${o(c.revenue)}`,14,a),a+=6})),t.setFontSize(8),t.text(`Generated on: ${new Date().toLocaleString("en-IN")}`,14,285),t.save(`DRT_Report_${new Date().toISOString().split("T")[0]}.pdf`)},D=()=>{let t="",m="DRT_Report";const a=x.from&&x.to?`Period: ${x.from} to ${x.to}`:"Period: All Time";switch(v){case"bookings":t=`BOOKINGS REPORT
`,t+=`${a}

`,t+=`BOOKING SUMMARY
`,t+=`Total Bookings,${n.totalBookings}
`,t+=`Delivered,${n.deliveredCount}
`,t+=`In Transit,${n.inTransitCount}
`,t+=`Booked (Pending),${n.bookedCount}
`,t+=`Total Packages,${n.totalPackages}
`,t+=`Total Revenue,${n.totalRevenue}
`,m="Bookings_Report";break;case"trips":t=`TRIPS REPORT
`,t+=`${a}

`,t+=`TRIP SUMMARY
`,t+=`Total Trips,${d.totalTrips}
`,t+=`Completed,${d.completedTrips}
`,t+=`Active,${d.activeTrips}
`,t+=`Pending,${d.pendingTrips}
`,t+=`Total Trip Cost,${d.totalTripCost}
`,m="Trips_Report";break;case"revenue":t=`REVENUE REPORT
`,t+=`${a}

`,t+=`TOTAL REVENUE
`,t+=`Total Revenue,${n.totalRevenue}
`,t+=`Total Trip Cost,${d.totalTripCost}
`,t+=`Net Profit,${n.totalRevenue-d.totalTripCost}

`,t+=`REVENUE BY PAYMENT METHOD
`,t+=`Payment Method,Amount
`,t+=`Cash,${n.revenueByMethod.cash}
`,t+=`Online,${n.revenueByMethod.online}
`,t+=`To Pay,${n.revenueByMethod.to_pay}
`,t+=`Credit,${n.revenueByMethod.credit}
`,m="Revenue_Report";break;case"customers":t=`CUSTOMER REPORT
`,t+=`${a}

`,t+=`TOP CUSTOMERS
`,t+=`Rank,Customer Name,Phone,Total Bookings,Total Revenue
`,u.forEach((r,i)=>{t+=`${i+1},"${r.name}",${r.phone},${r.bookings},${r.revenue}
`}),t+=`
`,t+=`TOP ROUTES
`,t+=`Rank,Route,Total Bookings,Total Revenue
`,b.forEach((r,i)=>{const g=r.route.replace(/→/g,"to");t+=`${i+1},"${g}",${r.trips},${r.revenue}
`}),m="Customer_Report";break;case"credit":t=`CREDIT CUSTOMERS DETAILED REPORT
`,t+=`${a}

`,t+=`SUMMARY
`,t+=`Total Credit Issued,${l.totalCredit}
`,t+=`Total Advance Paid,${l.totalAdvancePaid}
`,t+=`Total Outstanding,${l.totalNetOutstanding}
`,t+=`Total Credit Customers,${l.accounts.length}

`,t+=`CUSTOMER SUMMARY
`,t+=`Customer Name,Phone,Bookings,Total Credit,Advance Paid,Outstanding,Status
`,[...l.accounts].sort((r,i)=>i.netOutstanding-r.netOutstanding).forEach(r=>{const i=r.netOutstanding===0?"Cleared":r.advancePaid/r.totalCredit>=.5?"Partial":"Pending";t+=`"${r.customer}",${r.phone},${r.bookingCount},${r.totalCredit},${r.advancePaid},${r.netOutstanding},${i}
`}),t+=`
`,t+=`DETAILED BOOKINGS
`,t+=`Customer Name,Phone,Receipt No,Date,Origin,Destination,Package,Qty,Rate,Amount,Payment Method
`,[...l.accounts].sort((r,i)=>i.netOutstanding-r.netOutstanding).forEach(r=>{r.bookings&&r.bookings.length>0&&r.bookings.forEach(i=>{const g=i.date?new Date(i.date).toLocaleDateString("en-IN"):"-",C=i.origin||"-",w=i.destination||"-";i.packages&&i.packages.length>0?i.packages.forEach(j=>{t+=`"${r.customer}",${r.phone},${i.receiptNumber||"-"},${g},"${C}","${w}",${j.size||"-"},${j.quantity||0},${j.price||0},${(j.quantity||0)*(j.price||0)},credit
`}):t+=`"${r.customer}",${r.phone},${i.receiptNumber||"-"},${g},"${C}","${w}",-,-,-,${i.amount||0},credit
`})}),t+=`
`,t+=`ADVANCE PAYMENTS
`,t+=`Customer Name,Phone,Receipt No,Date,Amount,Payment Method,Notes
`,[...l.accounts].sort((r,i)=>i.netOutstanding-r.netOutstanding).forEach(r=>{r.payments&&r.payments.length>0&&r.payments.forEach(i=>{const g=i.date?new Date(i.date).toLocaleDateString("en-IN"):"-";t+=`"${r.customer}",${r.phone},${i.receiptNumber||"-"},${g},${i.amount||0},${i.method||"cash"},"${i.notes||""}"
`})}),m="Credit_Customers_Detailed_Report";break;default:t=`DRT Mango Transport - Reports

`,t+=`${a}
`,m="DRT_Report"}const y=new Blob(["\uFEFF"+t],{type:"text/csv;charset=utf-8;"}),c=document.createElement("a");c.href=URL.createObjectURL(y),c.download=`${m}_${new Date().toISOString().split("T")[0]}.csv`,c.click()};return P?e.jsx("div",{className:"p-4 md:p-8",children:e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"animate-spin w-8 h-8 border-4 border-orange-500 border-t-transparent rounded-full mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Loading reports..."})]})}):e.jsxs("div",{className:"p-4 md:p-8 overflow-x-hidden",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Reports"}),e.jsx("p",{className:"text-gray-600",children:"Analytics and business insights"})]}),e.jsx("div",{className:"bg-white rounded-xl border border-gray-200 p-4 md:p-6 mb-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"reportType",className:"block text-sm font-medium text-gray-700 mb-2",children:"Report Type"}),e.jsxs("select",{id:"reportType",value:v,onChange:s=>R(s.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:[e.jsx("option",{value:"bookings",children:"Bookings Report"}),e.jsx("option",{value:"trips",children:"Trips Report"}),e.jsx("option",{value:"revenue",children:"Revenue Report"}),e.jsx("option",{value:"customers",children:"Customer Report"}),e.jsx("option",{value:"credit",children:"Credit Customers Report"})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"dateFrom",className:"block text-sm font-medium text-gray-700 mb-2",children:"From Date"}),e.jsx("input",{id:"dateFrom",type:"date",value:x.from,onChange:s=>f({...x,from:s.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"dateTo",className:"block text-sm font-medium text-gray-700 mb-2",children:"To Date"}),e.jsx("input",{id:"dateTo",type:"date",value:x.to,onChange:s=>f({...x,to:s.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent"})]}),e.jsx("div",{className:"flex items-end",children:e.jsx("button",{onClick:F,className:"w-full px-4 py-2 bg-orange-500 text-white rounded-lg hover:bg-orange-600 transition-colors font-medium",children:"Generate Report"})})]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200",children:[e.jsx("div",{className:"p-6 border-b border-gray-200",children:e.jsx("h2",{className:"font-bold text-gray-900",children:"Booking Summary"})}),e.jsxs("div",{className:"p-6 space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-600",children:"Total Bookings"}),e.jsx("span",{className:"font-bold text-gray-900",children:n.totalBookings})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-600",children:"Delivered"}),e.jsx("span",{className:"font-bold text-green-600",children:n.deliveredCount})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-600",children:"In Transit"}),e.jsx("span",{className:"font-bold text-blue-600",children:n.inTransitCount})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-600",children:"Booked (Pending)"}),e.jsx("span",{className:"font-bold text-yellow-600",children:n.bookedCount})]}),e.jsxs("div",{className:"pt-4 border-t border-gray-200",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("span",{className:"text-gray-600",children:"Total Revenue"}),e.jsx("span",{className:"font-bold text-orange-600",children:o(n.totalRevenue)})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-600",children:"Total Packages"}),e.jsx("span",{className:"font-bold text-gray-900",children:n.totalPackages})]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200",children:[e.jsx("div",{className:"p-6 border-b border-gray-200",children:e.jsx("h2",{className:"font-bold text-gray-900",children:"Trip Summary"})}),e.jsxs("div",{className:"p-6 space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-600",children:"Total Trips"}),e.jsx("span",{className:"font-bold text-gray-900",children:d.totalTrips})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-600",children:"Completed"}),e.jsx("span",{className:"font-bold text-green-600",children:d.completedTrips})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-600",children:"Active"}),e.jsx("span",{className:"font-bold text-blue-600",children:d.activeTrips})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-600",children:"Pending"}),e.jsx("span",{className:"font-bold text-yellow-600",children:d.pendingTrips})]}),e.jsx("div",{className:"pt-4 border-t border-gray-200",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-600",children:"Total Trip Cost"}),e.jsx("span",{className:"font-bold text-orange-600",children:o(d.totalTripCost)})]})})]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 mb-6",children:[e.jsx("div",{className:"p-6 border-b border-gray-200",children:e.jsx("h2",{className:"font-bold text-gray-900",children:"Revenue by Payment Method"})}),e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-3 md:gap-4",children:[e.jsxs("div",{className:"bg-green-50 rounded-lg p-4 text-center",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Cash"}),e.jsx("p",{className:"text-xl font-bold text-green-600",children:o(n.revenueByMethod.cash)})]}),e.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 text-center",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Online"}),e.jsx("p",{className:"text-xl font-bold text-blue-600",children:o(n.revenueByMethod.online)})]}),e.jsxs("div",{className:"bg-yellow-50 rounded-lg p-4 text-center",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"To Pay"}),e.jsx("p",{className:"text-xl font-bold text-yellow-600",children:o(n.revenueByMethod.to_pay)})]}),e.jsxs("div",{className:"bg-purple-50 rounded-lg p-4 text-center",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Credit"}),e.jsx("p",{className:"text-xl font-bold text-purple-600",children:o(n.revenueByMethod.credit)})]})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200",children:[e.jsx("div",{className:"p-6 border-b border-gray-200",children:e.jsx("h2",{className:"font-bold text-gray-900",children:"Top Customers"})}),e.jsx("div",{className:"divide-y divide-gray-200",children:u.length>0?u.map((s,t)=>e.jsxs("div",{className:"p-4 md:p-6 hover:bg-gray-50 transition-colors",children:[e.jsxs("div",{className:"flex items-center justify-between gap-2 mb-2",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 bg-orange-100 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"font-bold text-orange-600",children:t+1})}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("span",{className:"font-medium text-gray-900 block truncate",children:s.name}),e.jsx("p",{className:"text-xs text-gray-500",children:s.phone})]})]}),e.jsx("span",{className:"font-bold text-orange-600 whitespace-nowrap text-sm md:text-base",children:o(s.revenue)})]}),e.jsx("div",{className:"ml-11",children:e.jsxs("span",{className:"text-sm text-gray-600",children:[s.bookings," bookings"]})})]},t)):e.jsx("div",{className:"p-6 text-center text-gray-500",children:"No customers found"})})]}),e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200",children:[e.jsx("div",{className:"p-6 border-b border-gray-200",children:e.jsx("h2",{className:"font-bold text-gray-900",children:"Top Routes"})}),e.jsx("div",{className:"divide-y divide-gray-200",children:b.length>0?b.map((s,t)=>e.jsxs("div",{className:"p-4 md:p-6 hover:bg-gray-50 transition-colors",children:[e.jsxs("div",{className:"flex items-center justify-between gap-2 mb-2",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"font-bold text-blue-600",children:t+1})}),e.jsx("span",{className:"font-medium text-gray-900 break-words text-sm md:text-base",children:s.route})]}),e.jsx("span",{className:"font-bold text-orange-600 whitespace-nowrap text-sm md:text-base",children:o(s.revenue)})]}),e.jsx("div",{className:"ml-11",children:e.jsxs("span",{className:"text-sm text-gray-600",children:[s.trips," bookings"]})})]},t)):e.jsx("div",{className:"p-6 text-center text-gray-500",children:"No routes found"})})]})]}),v==="credit"&&e.jsxs("div",{className:"mt-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 md:gap-6 mb-6",children:[e.jsxs("div",{className:"bg-white rounded-xl p-4 md:p-6 border border-gray-200",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Total Credit Issued"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:o(l.totalCredit)}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[l.accounts.length," credit customers"]})]}),e.jsxs("div",{className:"bg-white rounded-xl p-4 md:p-6 border border-gray-200",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Advance Paid"}),e.jsx("p",{className:"text-2xl font-bold text-green-600",children:o(l.totalAdvancePaid)}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:l.totalCredit>0?`${Math.round(l.totalAdvancePaid/l.totalCredit*100)}% collected`:"0% collected"})]}),e.jsxs("div",{className:"bg-white rounded-xl p-4 md:p-6 border border-gray-200",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Net Outstanding"}),e.jsx("p",{className:"text-2xl font-bold text-orange-600",children:o(l.totalNetOutstanding)}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[l.accounts.filter(s=>s.netOutstanding>0).length," customers with balance"]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 hidden md:block",children:[e.jsxs("div",{className:"p-6 border-b border-gray-200",children:[e.jsx("h2",{className:"font-bold text-gray-900",children:"Credit Customers"}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Customers with credit payment method bookings"})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Customer"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Bookings"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total Credit"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Paid"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Outstanding"}),e.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200",children:l.accounts.length>0?[...l.accounts].sort((s,t)=>t.netOutstanding-s.netOutstanding).map(s=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:s.customer}),e.jsx("p",{className:"text-xs text-gray-500",children:s.phone})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:s.bookingCount}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-right text-gray-900 font-medium",children:o(s.totalCredit)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-right text-green-600 font-medium",children:o(s.advancePaid)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-right text-orange-600 font-bold",children:o(s.netOutstanding)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${s.netOutstanding===0?"bg-green-100 text-green-800":s.totalCredit>0&&s.advancePaid/s.totalCredit>=.5?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:s.netOutstanding===0?"Cleared":s.totalCredit>0&&s.advancePaid/s.totalCredit>=.5?"Partial":"Pending"})})]},s.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:6,className:"px-6 py-8 text-center text-gray-500",children:"No credit customers found"})})})]})})]}),e.jsxs("div",{className:"md:hidden",children:[e.jsx("div",{className:"bg-white rounded-xl border border-gray-200 mb-4",children:e.jsxs("div",{className:"p-4 border-b border-gray-200",children:[e.jsx("h2",{className:"font-bold text-gray-900",children:"Credit Customers"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Customers with credit bookings"})]})}),e.jsx("div",{className:"space-y-4",children:l.accounts.length>0?[...l.accounts].sort((s,t)=>t.netOutstanding-s.netOutstanding).map(s=>e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-4",children:[e.jsxs("div",{className:"flex justify-between items-start mb-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-bold text-gray-900",children:s.customer}),e.jsx("p",{className:"text-xs text-gray-500",children:s.phone})]}),e.jsx("span",{className:`px-2.5 py-0.5 rounded-full text-xs font-medium ${s.netOutstanding===0?"bg-green-100 text-green-800":s.totalCredit>0&&s.advancePaid/s.totalCredit>=.5?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:s.netOutstanding===0?"Cleared":s.totalCredit>0&&s.advancePaid/s.totalCredit>=.5?"Partial":"Pending"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Bookings"}),e.jsx("span",{className:"text-sm font-medium text-gray-900",children:s.bookingCount})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Total Credit"}),e.jsx("span",{className:"text-sm font-medium text-gray-900",children:o(s.totalCredit)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Paid"}),e.jsx("span",{className:"text-sm font-medium text-green-600",children:o(s.advancePaid)})]}),e.jsxs("div",{className:"flex justify-between pt-2 border-t border-gray-100",children:[e.jsx("span",{className:"text-sm font-medium text-gray-900",children:"Outstanding"}),e.jsx("span",{className:"text-sm font-bold text-orange-600",children:o(s.netOutstanding)})]})]})]},s.id)):e.jsx("div",{className:"bg-white rounded-xl border border-gray-200 p-8 text-center text-gray-500",children:"No credit customers found"})})]})]}),e.jsxs("div",{className:"mt-6 flex justify-end gap-3",children:[e.jsx("button",{onClick:M,className:"px-6 py-3 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors font-medium",children:"Export as PDF"}),e.jsx("button",{onClick:D,className:"px-6 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors font-medium",children:"Export as Excel"})]})]})}export{G as default};
//# sourceMappingURL=Reports-DRI9j9ha.js.map
