import{_ as ne}from"./vendor-pdf-DRk-497H.js";import{r as x,j as e}from"./vendor-radix-BK0gN1wx.js";import{b as U}from"./index-lxF1Xzjf.js";import"./vendor-react-BRY8hXab.js";import"./vendor-state-B-0uGrSJ.js";function ce({assignedDepotId:S}){const[C,G]=x.useState(""),[f,Q]=x.useState("all"),[c,L]=x.useState(null),[T,X]=x.useState([]),[J,Y]=x.useState(!0),[K,k]=x.useState(!1),[Z,j]=x.useState(!1),[g,z]=x.useState(null),[i,u]=x.useState({sender_name:"",sender_phone:"",payment_method:"cash",receivers:[]}),[R,I]=x.useState(!1),[M,F]=x.useState(null);x.useEffect(()=>{$()},[]);const $=async()=>{try{const{bookings:s}=await U.getAll();let a=(s||[]).map(t=>{var r,o;return{id:t.receipt_number||t.id,bookingId:t.id,customer:t.sender_name||t.customer_name||"N/A",customerPhone:t.sender_phone||t.customer_phone||"",destination:t.destination_depot_name||t.destination_location||"N/A",date:t.created_at,amount:Number(t.total_amount)||0,paymentMode:((o=(r=t.payment_method)==null?void 0:r.replace("_"," "))==null?void 0:o.toUpperCase())||"Cash",status:t.payment_method==="credit"||t.payment_method==="to_pay"?"pending":"paid",booking_status:t.status,invoiceNumber:t.receipt_number||t.id,receivers:t.receivers||[],destination_depot_id:t.destination_depot_id,origin_depot_id:t.origin_depot_id}});S&&(a=a.filter(t=>(t.destination_depot_id===S||t.origin_depot_id===S)&&t.booking_status!=="booked")),X(a)}catch(s){console.error("Error loading receipts:",s)}finally{Y(!1)}},q=s=>{L(s),k(!0)},V=s=>{L(s),k(!0),setTimeout(()=>window.print(),100)},W=s=>{var t,r;const a=T.find(o=>o.bookingId===s.bookingId);z(a),u({sender_name:(a==null?void 0:a.customer)||"",sender_phone:(a==null?void 0:a.customerPhone)||"",payment_method:((r=(t=a==null?void 0:a.paymentMode)==null?void 0:t.toLowerCase())==null?void 0:r.replace(" ","_"))||"cash",receivers:((a==null?void 0:a.receivers)||[]).map(o=>({name:o.name,phone:o.phone,address:o.address||"",packages:(o.packages||[]).map(l=>({packageId:l.package_id||"",size:l.size,quantity:l.quantity,price_per_unit:l.price_per_unit||l.price||0}))}))}),F(null),j(!0)},ee=async()=>{if(g){I(!0),F(null);try{let s=0;i.receivers.forEach(a=>{a.packages.forEach(t=>{s+=(Number(t.quantity)||0)*(Number(t.price_per_unit)||0)})}),await U.editDeliveredReceipt(g.bookingId,{sender_name:i.sender_name,sender_phone:i.sender_phone,payment_method:i.payment_method,total_amount:s,receivers:i.receivers}),await $(),j(!1),z(null),alert("Receipt updated successfully!")}catch(s){console.error("Error saving edit:",s),F(s.message||"Failed to save changes")}finally{I(!1)}}},v=()=>{let s=0;return i.receivers.forEach(a=>{a.packages.forEach(t=>{s+=(Number(t.quantity)||0)*(Number(t.price_per_unit)||0)})}),s},D=async s=>{const{jsPDF:a}=await ne(async()=>{const{jsPDF:b}=await import("./vendor-pdf-DRk-497H.js").then(N=>N.j);return{jsPDF:b}},[]),t=new a({format:"a5",unit:"mm",orientation:"landscape"}),r=t.internal.pageSize.getWidth(),o=t.internal.pageSize.getHeight(),l=12;let n=12;t.setFontSize(18),t.setFont("helvetica","bold"),t.setTextColor(0,0,0),t.text("DIRBA AMBA SERVICE",r/2,n,{align:"center"}),n+=5,t.setFontSize(8),t.setFont("helvetica","normal"),t.setTextColor(80,80,80),t.text("AT POST JAMSANDE, TAL.DEVGAD, DIST. SINDHUDURG | MOB: 9422584166, 9422435348",r/2,n,{align:"center"}),t.setTextColor(0,0,0),n+=6,t.setDrawColor(200,200,200),t.setLineWidth(.3),t.line(l,n,r-l,n),n+=6,t.setFontSize(10),t.setFont("helvetica","bold"),t.text(`Receipt No: ${s.id}`,l,n),t.setFont("helvetica","normal"),t.text(`Date: ${new Date(s.date).toLocaleDateString("en-IN")}`,r-l,n,{align:"right"}),n+=7,t.setFontSize(12),t.setFont("helvetica","bold"),t.text(`Destination: ${s.destination||"N/A"}`,l,n),n+=6,t.setFontSize(10),t.setFont("helvetica","normal"),t.text(`Sender: ${s.customer||"N/A"} (${s.customerPhone||"N/A"})`,l,n),n+=8;const h=l,w=r-2*h,m={srNo:12,receiver:55,packageSize:40,qty:20},y=7,te=o-35;t.setFillColor(51,51,51),t.rect(h,n,w,y,"F"),t.setTextColor(255,255,255),t.setFontSize(9),t.setFont("helvetica","bold");let d=h+3;t.text("Sr.",d,n+5),d+=m.srNo,t.text("Receiver",d,n+5),d+=m.receiver,t.text("Package Size",d,n+5),d+=m.packageSize,t.text("Qty",d,n+5),d+=m.qty,t.text("Amount",d,n+5),n+=y,t.setTextColor(0,0,0),t.setFont("helvetica","normal");let A=0,_=0;s.receivers&&s.receivers.length>0&&s.receivers.forEach(b=>{b.packages&&b.packages.length>0&&b.packages.forEach((N,B)=>{n>te&&(t.addPage(),n=15),A++;const H=N.quantity*N.price_per_unit;_+=H,A%2===0&&(t.setFillColor(248,248,248),t.rect(h,n,w,y,"F")),t.setDrawColor(220,220,220);const O=B===0?y+3:y;if(t.rect(h,n,w,O,"S"),t.setFontSize(9),d=h+3,t.text(`${A}`,d,n+5),d+=m.srNo,B===0){const ae=`${b.name||"N/A"}`.substring(0,22);t.setFont("helvetica","bold"),t.text(ae,d,n+4),t.setFontSize(8),t.setFont("helvetica","normal"),t.setTextColor(100,100,100),t.text(`${b.phone||""}`,d,n+8),t.setTextColor(0,0,0),t.setFontSize(9)}d+=m.receiver,t.text(N.size||"N/A",d,n+5),d+=m.packageSize,t.text(`${N.quantity}`,d,n+5),d+=m.qty,t.text(`₹${H.toFixed(0)}`,d,n+5),n+=O})}),_===0&&(_=s.amount||0),t.setFillColor(51,51,51),t.rect(h,n,w,y+2,"F"),t.setTextColor(255,255,255),t.setFontSize(11),t.setFont("helvetica","bold"),t.text(`Payment: ${s.paymentMode||"CASH"}`,h+3,n+6);const se=h+m.srNo+m.receiver+m.packageSize+m.qty+3;t.text(`TOTAL: ₹${_.toLocaleString("en-IN")}`,se,n+6),n+=y+8,t.setTextColor(0,0,0),t.setFontSize(9),t.setFont("helvetica","normal"),t.setTextColor(100,100,100),t.text("Thank you for choosing Dirba Amba Service!",r/2,n,{align:"center"}),t.setTextColor(0,0,0),n+=12;const E=45,P=r-l-E;t.setDrawColor(150,150,150),t.setLineWidth(.4),t.line(P,n,P+E,n),n+=4,t.setFontSize(8),t.setFont("helvetica","normal"),t.text("Authorized Signature",P+E/2,n,{align:"center"}),t.save(`${s.id}.pdf`)},p=T.filter(s=>{if(!C.trim())return f==="all"||s.status===f;const a=C.toLowerCase(),t=(s.customer||"").toLowerCase().includes(a)||(s.bookingId||"").toLowerCase().includes(a)||(s.id||"").toLowerCase().includes(a)||(s.destination||"").toLowerCase().includes(a),r=f==="all"||s.status===f;return t&&r});return p.reduce((s,a)=>s+a.amount,0),p.filter(s=>s.status==="paid").reduce((s,a)=>s+a.amount,0),p.filter(s=>s.status==="pending").reduce((s,a)=>s+a.amount,0),J?e.jsx("div",{className:"p-8",children:"Loading receipts..."}):e.jsxs("div",{className:"p-4 md:p-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"All Receipts"}),e.jsx("p",{className:"text-gray-600",children:"View and manage all payment receipts"})]}),e.jsx("div",{className:"bg-white rounded-xl border border-gray-200 p-6 mb-6",children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[e.jsx("div",{className:"flex-1",children:e.jsx("input",{type:"text",placeholder:"Search by customer, booking ID, or receipt number...",value:C,onChange:s=>G(s.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent"})}),e.jsx("div",{children:e.jsxs("select",{value:f,onChange:s=>Q(s.target.value),className:"w-full md:w-48 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"paid",children:"Paid"}),e.jsx("option",{value:"pending",children:"Pending"})]})})]})}),e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden hidden md:block",children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Receipt Details"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Customer"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Payment Mode"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200",children:p.map(s=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:s.id}),e.jsx("p",{className:"text-sm text-gray-600",children:s.invoiceNumber}),e.jsxs("p",{className:"text-xs text-gray-500",children:["Booking: ",s.bookingId]})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("p",{className:"font-medium text-gray-900",children:s.customer})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("p",{className:"text-sm text-gray-900",children:new Date(s.date).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric"})})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("p",{className:"font-bold text-gray-900",children:["₹",s.amount.toLocaleString("en-IN")]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("p",{className:"text-sm text-gray-900",children:s.paymentMode})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${s.status==="paid"?"bg-green-100 text-green-700":"bg-orange-100 text-orange-700"}`,children:s.status})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>q(s),className:"text-sm text-orange-600 hover:text-orange-700 font-medium",children:"View"}),e.jsx("button",{onClick:()=>V(s),className:"text-sm text-blue-600 hover:text-blue-700 font-medium",children:"Print"}),s.booking_status==="delivered"&&e.jsx("button",{onClick:()=>W(s),className:"text-sm text-purple-600 hover:text-purple-700 font-medium",children:"Edit"}),e.jsx("button",{onClick:()=>D(s),className:"text-sm text-green-600 hover:text-green-700 font-medium",children:"Download"})]})})]},s.id))})]})}),p.length===0&&e.jsx("div",{className:"p-12 text-center",children:e.jsx("p",{className:"text-gray-500",children:"No receipts found matching your criteria"})})]}),e.jsxs("div",{className:"md:hidden space-y-4",children:[p.map(s=>e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-4",children:[e.jsxs("div",{className:"flex justify-between items-start mb-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-bold text-gray-900",children:s.id}),e.jsx("p",{className:"text-xs text-gray-500",children:new Date(s.date).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric"})})]}),e.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${s.status==="paid"?"bg-green-100 text-green-700":"bg-orange-100 text-orange-700"}`,children:s.status})]}),e.jsxs("div",{className:"space-y-2 mb-4",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Customer"}),e.jsx("span",{className:"text-sm font-medium text-gray-900",children:s.customer})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Amount"}),e.jsxs("span",{className:"text-sm font-bold text-gray-900",children:["₹",s.amount.toLocaleString("en-IN")]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Payment"}),e.jsx("span",{className:"text-sm text-gray-900",children:s.paymentMode})]})]}),e.jsxs("div",{className:"flex flex-wrap gap-2 pt-3 border-t border-gray-100",children:[e.jsx("button",{onClick:()=>q(s),className:"flex-1 py-2 text-sm text-orange-600 bg-orange-50 rounded-lg font-medium",children:"View"}),e.jsx("button",{onClick:()=>V(s),className:"flex-1 py-2 text-sm text-blue-600 bg-blue-50 rounded-lg font-medium",children:"Print"}),s.booking_status==="delivered"&&e.jsx("button",{onClick:()=>W(s),className:"flex-1 py-2 text-sm text-purple-600 bg-purple-50 rounded-lg font-medium",children:"Edit"}),e.jsx("button",{onClick:()=>D(s),className:"flex-1 py-2 text-sm text-green-600 bg-green-50 rounded-lg font-medium",children:"Download"})]})]},s.id)),p.length===0&&e.jsx("div",{className:"bg-white rounded-xl border border-gray-200 p-12 text-center",children:e.jsx("p",{className:"text-gray-500",children:"No receipts found matching your criteria"})})]}),K&&c&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 print:bg-white print:relative",children:e.jsxs("div",{className:"bg-white rounded-xl p-8 max-w-lg w-full mx-4 max-h-[90vh] overflow-y-auto print:rounded-none print:max-w-full print:mx-0",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6 print:hidden",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Receipt Details"}),e.jsx("button",{onClick:()=>k(!1),className:"text-gray-500 hover:text-gray-700 text-2xl",children:"×"})]}),e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("h3",{className:"text-2xl font-bold text-orange-500",children:"DIRBA AMBA SERVICE"}),e.jsx("p",{className:"text-lg font-medium mt-2",children:c.id}),e.jsx("p",{className:"text-sm text-gray-600",children:new Date(c.date).toLocaleDateString("en-IN")})]}),e.jsxs("div",{className:"space-y-3 border-t border-b py-4",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Destination:"}),e.jsx("span",{className:"font-medium",children:c.destination})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Customer:"}),e.jsx("span",{className:"font-medium",children:c.customer})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Payment Mode:"}),e.jsx("span",{className:"font-medium",children:c.paymentMode})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Status:"}),e.jsx("span",{className:`font-medium ${c.status==="paid"?"text-green-600":"text-orange-600"}`,children:c.status.toUpperCase()})]})]}),c.receivers&&c.receivers.length>0&&e.jsxs("div",{className:"mt-4",children:[e.jsx("h4",{className:"font-semibold mb-2",children:"Receivers & Packages:"}),c.receivers.map((s,a)=>{var t;return e.jsxs("div",{className:"ml-2 mb-2",children:[e.jsxs("p",{className:"font-medium",children:[s.name," (",s.phone,")"]}),(t=s.packages)==null?void 0:t.map((r,o)=>e.jsxs("p",{className:"text-sm text-gray-600 ml-4",children:[r.size," × ",r.quantity," = ₹",(r.quantity*r.price_per_unit).toFixed(0)]},o))]},a)})]}),e.jsx("div",{className:"mt-6 bg-yellow-50 rounded-lg p-4",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-lg font-bold",children:"TOTAL:"}),e.jsxs("span",{className:"text-2xl font-bold text-green-600",children:["₹",c.amount.toLocaleString("en-IN")]})]})}),e.jsxs("div",{className:"mt-6 flex gap-3 print:hidden",children:[e.jsx("button",{onClick:()=>window.print(),className:"flex-1 px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600",children:"Print"}),e.jsx("button",{onClick:()=>D(c),className:"flex-1 px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600",children:"Download PDF"})]})]})}),Z&&g&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-xl p-6 max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Edit Receipt"}),e.jsx("p",{className:"text-sm text-gray-500",children:g.id})]}),e.jsx("button",{onClick:()=>j(!1),className:"text-gray-500 hover:text-gray-700 text-2xl",children:"×"})]}),M&&e.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg text-sm text-red-700",children:M}),i.payment_method==="credit"&&e.jsx("div",{className:"mb-4 p-3 bg-amber-50 border border-amber-200 rounded-lg text-sm text-amber-700",children:"⚠️ This is a credit booking. Changes will affect the customer's ledger balance."}),e.jsxs("div",{className:"space-y-4 mb-6",children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:"Sender Information"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Sender Name"}),e.jsx("input",{type:"text",value:i.sender_name,onChange:s=>u({...i,sender_name:s.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Sender Phone"}),e.jsx("input",{type:"tel",value:i.sender_phone,onChange:s=>u({...i,sender_phone:s.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500"})]})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Payment Method"}),e.jsxs("select",{value:i.payment_method,onChange:s=>u({...i,payment_method:s.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500",children:[e.jsx("option",{value:"cash",children:"Cash"}),e.jsx("option",{value:"credit",children:"Credit"}),e.jsx("option",{value:"to_pay",children:"To Pay"})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Receivers & Packages"}),i.receivers.map((s,a)=>e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Receiver Name"}),e.jsx("input",{type:"text",value:s.name,onChange:t=>{const r=[...i.receivers];r[a].name=t.target.value,u({...i,receivers:r})},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Receiver Phone"}),e.jsx("input",{type:"tel",value:s.phone,onChange:t=>{const r=[...i.receivers];r[a].phone=t.target.value,u({...i,receivers:r})},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-600",children:"Packages"}),s.packages.map((t,r)=>e.jsxs("div",{className:"flex gap-2 items-center bg-white p-2 rounded border border-gray-200",children:[e.jsx("input",{type:"text",value:t.size,onChange:o=>{const l=[...i.receivers];l[a].packages[r].size=o.target.value,u({...i,receivers:l})},placeholder:"Size",className:"flex-1 px-2 py-1 border border-gray-300 rounded text-sm"}),e.jsx("input",{type:"number",value:t.quantity,onChange:o=>{const l=[...i.receivers];l[a].packages[r].quantity=parseInt(o.target.value)||0,u({...i,receivers:l})},placeholder:"Qty",className:"w-16 px-2 py-1 border border-gray-300 rounded text-sm"}),e.jsx("span",{className:"text-gray-500",children:"×"}),e.jsx("input",{type:"number",value:t.price_per_unit,onChange:o=>{const l=[...i.receivers];l[a].packages[r].price_per_unit=parseFloat(o.target.value)||0,u({...i,receivers:l})},placeholder:"Price",className:"w-20 px-2 py-1 border border-gray-300 rounded text-sm"}),e.jsxs("span",{className:"text-gray-600 font-medium",children:["= ₹",((t.quantity||0)*(t.price_per_unit||0)).toLocaleString("en-IN")]})]},r))]})]},a))]}),e.jsxs("div",{className:"bg-purple-50 rounded-lg p-4 mb-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-lg font-bold text-gray-900",children:"New Total:"}),e.jsxs("span",{className:"text-2xl font-bold text-purple-600",children:["₹",v().toLocaleString("en-IN")]})]}),v()!==g.amount&&e.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Original: ₹",g.amount.toLocaleString("en-IN"),"(Change: ",v()>g.amount?"+":"","₹",(v()-g.amount).toLocaleString("en-IN"),")"]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:()=>j(!1),className:"flex-1 px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 font-medium",children:"Cancel"}),e.jsx("button",{onClick:ee,disabled:R,className:"flex-1 px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 font-medium disabled:opacity-50",children:R?"Saving...":"Save Changes"})]})]})})]})}export{ce as default};
//# sourceMappingURL=AllReceipts-DyrIAg4i.js.map
