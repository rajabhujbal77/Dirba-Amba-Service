const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-DzBcAM1U.js","assets/vendor-radix-BK0gN1wx.js","assets/vendor-react-BRY8hXab.js","assets/vendor-pdf-DRk-497H.js","assets/vendor-state-B-0uGrSJ.js","assets/index-cuIgn00u.css"])))=>i.map(i=>d[i]);
import{_ as q}from"./vendor-pdf-DRk-497H.js";import{r as m,j as t}from"./vendor-radix-BK0gN1wx.js";import{d as H,e as J,t as C,b as P,f as Q,q as E}from"./index-DzBcAM1U.js";import{i as U}from"./networkErrors-Btgq6y-X.js";import"./vendor-react-BRY8hXab.js";import"./vendor-state-B-0uGrSJ.js";function re({userRole:S,assignedDepotId:p}){const[y,F]=m.useState("trips"),[R,T]=m.useState([]),[f,O]=m.useState([]),[V,I]=m.useState([]),[W,M]=m.useState(!0),[o,h]=m.useState("all"),[d,v]=m.useState({}),[j,G]=m.useState(new Set),u=H(e=>e.isOnline);J(e=>e.pendingOperations),m.useEffect(()=>{$()},[]);const $=async()=>{M(!0);try{const[e,n,s]=await Promise.all([C.getAllWithProgress(),P.getAll(),Q.getAll()]),a=e.trips||[];let r=n.bookings||[],c=[];if(S==="depot_manager"&&p)try{const{depotRoutesApi:i}=await q(async()=>{const{depotRoutesApi:_}=await import("./index-DzBcAM1U.js").then(g=>g.n);return{depotRoutesApi:_}},__vite__mapDeps([0,1,2,3,4,5]));c=(await i.getByDepotId(p)).forwardingDepotIds||[],console.log("Forwarding destinations for Trips & Deliveries:",c)}catch(i){console.error("Error fetching depot routes:",i)}const D=S==="depot_manager"&&p?a.filter(i=>i.origin_depot_id===p||i.destination_depot_id===p||c.includes(i.destination_depot_id)):a,l=S==="depot_manager"&&p?r.filter(i=>(i.destination_depot_id===p||i.origin_depot_id===p)&&i.status!=="booked"):r;T(D),O(l),I(s.depots||[])}catch(e){console.error("Error loading data:",e)}finally{M(!1)}},N=async(e,n)=>{const s=n?{status:"delivered",to_pay_collected_method:n,to_pay_collected_at:new Date().toISOString()}:null;if(u)try{const a=f.find(c=>c.id===e),r=(a==null?void 0:a.trip_id)||(a==null?void 0:a.trip_id);if(n?await P.update(e,s):await P.updateStatus(e,"delivered"),r){const{autoCompleted:c}=await C.checkAndAutoComplete(r);c&&console.log(`Trip ${r} auto-completed after all managed deliveries done`)}if(d[e]){const c={...d};delete c[e],v(c)}await $()}catch(a){console.error("Error marking delivered:",a),U(a)?(console.log("[TripsDeliveries] Network error detected, queuing delivery"),L(e,n,s)):alert("Error marking as delivered")}else L(e,n,s)},L=(e,n,s)=>{if(E("MARK_DELIVERED",{bookingId:e,paymentMethod:n,updates:s},{entityType:"delivery",entityId:e,optimisticData:{status:"delivered",markedAt:new Date().toISOString()}}),G(a=>new Set([...a,e])),O(a=>a.map(r=>r.id===e?{...r,status:"delivered"}:r)),d[e]){const a={...d};delete a[e],v(a)}},K=async(e,n)=>{if(u)try{await C.update(e,{status:n}),await $()}catch(s){console.error("Error updating trip status:",s),U(s)?(console.log("[TripsDeliveries] Network error detected, queuing trip update"),E("UPDATE_TRIP_STATUS",{tripId:e,status:n},{entityType:"trip",entityId:e}),T(a=>a.map(r=>r.id===e?{...r,status:n}:r))):alert("Error updating trip status")}else E("UPDATE_TRIP_STATUS",{tripId:e,status:n},{entityType:"trip",entityId:e}),T(s=>s.map(a=>a.id===e?{...a,status:n}:a))},Y=async e=>{const{jsPDF:n}=await q(async()=>{const{jsPDF:l}=await import("./vendor-pdf-DRk-497H.js").then(i=>i.j);return{jsPDF:l}},[]),s=new n,a=s.internal.pageSize.getWidth();let r=15;s.setFontSize(18),s.setFont("helvetica","bold"),s.text("DRIVER'S MEMO",a/2,r,{align:"center"}),r+=8,s.setFontSize(12),s.setFont("helvetica","normal"),s.text("DRT Mango Transport",a/2,r,{align:"center"}),r+=12,s.setFontSize(11),s.setFont("helvetica","bold"),s.text("Trip Details",14,r),r+=6,s.setFont("helvetica","normal"),s.setFontSize(10),s.text(`Trip Number: ${e.trip_number||e.id}`,14,r),r+=5,s.text(`Driver: ${e.driver_name} | Phone: ${e.driver_phone||"N/A"}`,14,r),r+=5,s.text(`Vehicle: ${e.vehicle_number}`,14,r),r+=5,s.text(`Date: ${new Date().toLocaleDateString("en-IN")}`,14,r),r+=10;const c={};V.forEach((l,i)=>{c[l.name]=i+1});const D=f.filter(l=>l.trip_id===e.id).sort((l,i)=>{const x=c[l.destination_depot_name]||999,_=c[i.destination_depot_name]||999;return x-_});s.setFontSize(11),s.setFont("helvetica","bold"),s.text(`Bookings (${D.length} items)`,14,r),r+=8,s.setDrawColor(200),s.line(14,r-2,a-14,r-2),D.forEach((l,i)=>{r>260&&(s.addPage(),r=15),s.setFillColor(245,245,245),s.rect(14,r,a-28,8,"F"),s.setFontSize(10),s.setFont("helvetica","bold"),s.text(`${i+1}. ${l.receipt_number} - ${l.destination_depot_name}`,16,r+5),r+=10,s.setFont("helvetica","normal"),s.setFontSize(9),s.text(`Sender: ${l.sender_name} | ${l.sender_phone}`,16,r),r+=4,s.text(`From: ${l.origin_depot_name}  To: ${l.destination_depot_name}`,16,r),r+=4,s.text(`Amount: Rs. ${(Number(l.total_amount)||0).toLocaleString("en-IN")}`,16,r),r+=5,Array.isArray(l.receivers)&&l.receivers.forEach((x,_)=>{r>265&&(s.addPage(),r=15),s.setFont("helvetica","bold"),s.text(`  Receiver ${_+1}: ${x.name} | ${x.phone}`,16,r),r+=4,s.setFont("helvetica","normal"),x.address&&(s.text(`    Address: ${x.address}`,16,r),r+=4),Array.isArray(x.packages)&&x.packages.forEach(g=>{r>265&&(s.addPage(),r=15),s.text(`    - ${g.size}: ${g.quantity} pcs @ Rs.${g.price_per_unit||0} = Rs.${g.total_price||0}`,16,r),r+=4})}),r+=4}),r>260&&(s.addPage(),r=15),r+=5,s.setDrawColor(200),s.line(14,r,a-14,r),r+=8,s.setFontSize(8),s.text(`Generated on: ${new Date().toLocaleString("en-IN")}`,14,r),s.text("Driver Signature: _________________",a-80,r),s.save(`DriverMemo_${e.trip_number||e.id}_${new Date().toISOString().split("T")[0]}.pdf`)},A=e=>{switch(e){case"in_transit":return"bg-blue-100 text-blue-700";case"loading":case"planned":return"bg-orange-100 text-orange-700";case"completed":case"delivered":return"bg-green-100 text-green-700";case"booked":return"bg-yellow-100 text-yellow-700";case"cancelled":return"bg-red-100 text-red-700";default:return"bg-gray-100 text-gray-700"}},b=e=>e?new Date(e).toLocaleString("en-IN",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"-",z=e=>{let n=0;return Array.isArray(e.receivers)&&e.receivers.forEach(s=>{Array.isArray(s.packages)&&s.packages.forEach(a=>{n+=Number(a.quantity)||0})}),n},w=f.filter(e=>e.status!=="booked"&&(o==="all"?["in_transit","delivered"].includes(e.status):e.status===o)),B=R.filter(e=>o==="all"||e.status===o);return W?t.jsx("div",{className:"p-8",children:t.jsxs("div",{className:"text-center py-12",children:[t.jsx("div",{className:"animate-spin w-8 h-8 border-4 border-orange-500 border-t-transparent rounded-full mx-auto mb-4"}),t.jsx("p",{className:"text-gray-600",children:"Loading trips and deliveries..."})]})}):t.jsxs("div",{className:"p-8",children:[t.jsxs("div",{className:"mb-8",children:[t.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Trips & Deliveries"}),t.jsx("p",{className:"text-gray-600",children:"Track all trips and manage deliveries"})]}),!u&&t.jsx("div",{className:"mb-6 p-4 bg-amber-50 border border-amber-200 rounded-lg",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-xl",children:"âš ï¸"}),t.jsxs("div",{children:[t.jsx("span",{className:"font-medium text-amber-800",children:"You're currently offline. "}),t.jsx("span",{className:"text-amber-700",children:"Delivery updates will be synced when you're back online."})]})]})}),t.jsxs("div",{className:"flex flex-wrap gap-4 mb-6 border-b border-gray-200",children:[t.jsxs("button",{onClick:()=>{F("trips"),h("all")},className:`px-6 py-3 font-medium border-b-2 transition-colors ${y==="trips"?"border-orange-500 text-orange-600":"border-transparent text-gray-600 hover:text-gray-900"}`,children:["All Trips (",R.length,")"]}),t.jsxs("button",{onClick:()=>{F("deliveries"),h("all")},className:`px-6 py-3 font-medium border-b-2 transition-colors ${y==="deliveries"?"border-orange-500 text-orange-600":"border-transparent text-gray-600 hover:text-gray-900"}`,children:["Deliveries (",f.filter(e=>["in_transit","delivered"].includes(e.status)).length,")"]})]}),t.jsxs("div",{className:"mb-6 flex gap-2 flex-wrap",children:[t.jsx("button",{onClick:()=>h("all"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${o==="all"?"bg-orange-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"All"}),y==="trips"?t.jsxs(t.Fragment,{children:[t.jsx("button",{onClick:()=>h("in_transit"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${o==="in_transit"?"bg-blue-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"In Transit"}),t.jsx("button",{onClick:()=>h("completed"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${o==="completed"?"bg-green-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Completed"})]}):t.jsxs(t.Fragment,{children:[t.jsx("button",{onClick:()=>h("in_transit"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${o==="in_transit"?"bg-blue-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"In Transit"}),t.jsx("button",{onClick:()=>h("delivered"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${o==="delivered"?"bg-green-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Delivered"})]})]}),y==="trips"&&t.jsx("div",{className:"space-y-4",children:B.length>0?B.map(e=>{var n;return t.jsx("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden",children:t.jsxs("div",{className:"p-6",children:[t.jsxs("div",{className:"flex items-start justify-between mb-4",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"font-bold text-gray-900 mb-1",children:e.trip_number||e.id}),t.jsx("p",{className:"text-sm text-gray-600",children:e.id})]}),t.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${A(e.status)}`,children:(n=e.status)==null?void 0:n.replace("_"," ")})]}),t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-4",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Driver"}),t.jsx("p",{className:"text-sm font-medium text-gray-900",children:e.driver_name}),e.driver_phone&&t.jsx("p",{className:"text-xs text-gray-500",children:e.driver_phone})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Vehicle"}),t.jsx("p",{className:"text-sm font-medium text-gray-900",children:e.vehicle_number})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Trip Cost"}),t.jsxs("p",{className:"text-sm font-medium text-red-600",children:["â‚¹",(Number(e.trip_cost)||0).toLocaleString("en-IN")]})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Revenue"}),t.jsxs("p",{className:"text-sm font-medium text-green-600",children:["â‚¹",f.filter(s=>s.status==="in_transit"||s.status==="delivered").reduce((s,a)=>s+(Number(a.total_amount)||0),0).toLocaleString("en-IN")]})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Delivery Progress"}),t.jsxs("p",{className:"text-sm font-medium text-gray-900",children:[e.delivered_bookings||0,"/",e.total_bookings||0," delivered"]}),e.total_bookings>0&&t.jsx("div",{className:"mt-1 w-full bg-gray-200 rounded-full h-2",children:t.jsx("div",{className:`h-2 rounded-full transition-all ${e.delivered_bookings===e.total_bookings?"bg-green-500":"bg-orange-500"}`,style:{width:`${e.delivered_bookings/e.total_bookings*100}%`}})})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 p-4 bg-gray-50 rounded-lg",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Departure"}),t.jsx("p",{className:"text-sm font-medium text-gray-900",children:b(e.departure_time)})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"ETA"}),t.jsx("p",{className:"text-sm font-medium text-gray-900",children:b(e.arrival_time)})]})]}),e.status==="in_transit"&&e.total_bookings>0&&t.jsx("div",{className:"mt-4 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:t.jsxs("p",{className:"text-xs text-blue-700",children:["â„¹ï¸ This trip will auto-complete when all ",e.total_bookings," receipts are marked as delivered."]})}),t.jsxs("div",{className:"flex gap-3 mt-4 flex-wrap",children:[t.jsx("button",{onClick:()=>Y(e),className:"px-4 py-2 text-sm bg-gray-700 text-white rounded-lg hover:bg-gray-800 transition-colors",children:"ðŸ“„ Download Memo"}),e.status==="planned"&&t.jsx("button",{onClick:()=>K(e.id,"in_transit"),className:"px-4 py-2 text-sm bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors",children:"Start Trip"})]})]})},e.id)}):t.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-12 text-center",children:[t.jsx("p",{className:"text-gray-500 text-lg",children:"No trips found"}),t.jsx("p",{className:"text-gray-400 text-sm mt-2",children:"Create a new trip from the Trip Creation page"})]})}),y==="deliveries"&&t.jsxs("div",{className:"bg-white rounded-xl border border-gray-200",children:[t.jsx("div",{className:"md:hidden divide-y divide-gray-200",children:w.length>0?w.map(e=>{var n;return t.jsxs("div",{className:"p-4",children:[t.jsxs("div",{className:"flex items-start justify-between mb-3",children:[t.jsxs("div",{children:[t.jsx("p",{className:"font-bold text-gray-900",children:e.receipt_number}),t.jsx("p",{className:"text-xs text-gray-500",children:b(e.created_at)})]}),t.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${A(e.status)}`,children:(n=e.status)==null?void 0:n.replace("_"," ")})]}),t.jsxs("div",{className:"mb-2",children:[t.jsx("p",{className:"text-sm font-medium text-gray-900",children:e.sender_name}),t.jsx("p",{className:"text-xs text-gray-500",children:e.sender_phone})]}),t.jsxs("div",{className:"flex items-center justify-between text-sm mb-3 p-2 bg-gray-50 rounded",children:[t.jsxs("span",{className:"text-gray-600",children:[e.origin_depot_name," â†’ ",e.destination_depot_name]}),t.jsxs("span",{className:"font-medium text-gray-900",children:[z(e)," pkgs"]})]}),t.jsxs("div",{className:"flex items-center justify-between mb-3",children:[t.jsxs("span",{className:"text-lg font-bold text-green-600",children:["â‚¹",(Number(e.total_amount)||0).toLocaleString("en-IN")]}),t.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${e.payment_method==="cash"?"bg-green-100 text-green-700":e.payment_method==="online"?"bg-purple-100 text-purple-700":e.payment_method==="credit"?"bg-yellow-100 text-yellow-700":e.payment_method==="to_pay"?"bg-orange-100 text-orange-700":"bg-gray-100 text-gray-700"}`,children:e.payment_method==="cash"?"Cash":e.payment_method==="online"?"Online":e.payment_method==="credit"?"Credit":e.payment_method==="to_pay"?"To-Pay":e.payment_method||"N/A"})]}),j.has(e.id)&&t.jsxs("div",{className:"mb-2 text-xs text-amber-600 flex items-center gap-1",children:[t.jsx("span",{className:"animate-pulse",children:"â³"})," Pending sync"]}),e.status==="in_transit"&&e.payment_method==="to_pay"?t.jsxs("div",{className:"flex flex-col gap-2",children:[t.jsxs("select",{value:d[e.id]||"",onChange:s=>v({...d,[e.id]:s.target.value}),className:"w-full text-sm border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-orange-500",children:[t.jsx("option",{value:"",children:"Select Payment Method"}),t.jsx("option",{value:"cash",children:"Cash"}),t.jsx("option",{value:"online",children:"Online/UPI"})]}),t.jsx("button",{onClick:()=>N(e.id,d[e.id]),disabled:!d[e.id],className:`w-full py-3 rounded-lg font-medium text-center ${d[e.id]?"bg-green-500 text-white hover:bg-green-600":"bg-gray-200 text-gray-400 cursor-not-allowed"}`,children:u?"âœ“ Mark Delivered":"ðŸ“¤ Mark Delivered (Offline)"})]}):e.status==="in_transit"?t.jsx("button",{onClick:()=>N(e.id),className:"w-full py-3 bg-green-500 text-white rounded-lg font-medium hover:bg-green-600",children:u?"âœ“ Mark Delivered":"ðŸ“¤ Mark Delivered (Offline)"}):e.status==="delivered"?t.jsxs("div",{className:"w-full py-3 bg-green-100 text-green-700 rounded-lg font-medium text-center",children:["âœ“ Delivered ",j.has(e.id)&&"(syncing...)"]}):null]},e.id)}):t.jsx("div",{className:"p-12 text-center text-gray-500",children:"No deliveries found"})}),t.jsx("div",{className:"hidden md:block overflow-x-auto",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Receipt #"}),t.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Sender"}),t.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Route"}),t.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Packages"}),t.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"}),t.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Payment"}),t.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),t.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),t.jsx("tbody",{className:"divide-y divide-gray-200",children:w.length>0?w.map(e=>{var n;return t.jsxs("tr",{className:"hover:bg-gray-50",children:[t.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[t.jsx("p",{className:"font-medium text-gray-900",children:e.receipt_number}),t.jsx("p",{className:"text-xs text-gray-500",children:b(e.created_at)})]}),t.jsxs("td",{className:"px-6 py-4",children:[t.jsx("p",{className:"font-medium text-gray-900",children:e.sender_name}),t.jsx("p",{className:"text-xs text-gray-500",children:e.sender_phone})]}),t.jsx("td",{className:"px-6 py-4",children:t.jsxs("p",{className:"text-sm text-gray-900",children:[e.origin_depot_name," â†’ ",e.destination_depot_name]})}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsx("p",{className:"text-sm font-medium text-gray-900",children:z(e)})}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsxs("p",{className:"text-sm font-medium text-green-600",children:["â‚¹",(Number(e.total_amount)||0).toLocaleString("en-IN")]})}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${e.payment_method==="cash"?"bg-green-100 text-green-700":e.payment_method==="online"?"bg-purple-100 text-purple-700":e.payment_method==="credit"?"bg-yellow-100 text-yellow-700":e.payment_method==="to_pay"?"bg-orange-100 text-orange-700":"bg-gray-100 text-gray-700"}`,children:e.payment_method==="cash"?"Cash":e.payment_method==="online"?"Online":e.payment_method==="credit"?"Credit":e.payment_method==="to_pay"?"To-Pay":e.payment_method||"N/A"})}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${A(e.status)}`,children:(n=e.status)==null?void 0:n.replace("_"," ")})}),t.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[j.has(e.id)&&t.jsxs("span",{className:"inline-flex items-center gap-1 text-xs text-amber-600 mb-1",children:[t.jsx("span",{className:"animate-pulse",children:"â³"})," Pending sync"]}),e.status==="in_transit"&&e.payment_method==="to_pay"?t.jsxs("div",{className:"flex flex-col gap-2 min-w-[140px]",children:[t.jsxs("select",{value:d[e.id]||"",onChange:s=>v({...d,[e.id]:s.target.value}),className:"text-xs border border-gray-300 rounded px-2 py-1 focus:ring-2 focus:ring-orange-500",children:[t.jsx("option",{value:"",children:"Select Payment"}),t.jsx("option",{value:"cash",children:"Cash"}),t.jsx("option",{value:"online",children:"Online/UPI"})]}),t.jsx("button",{onClick:()=>N(e.id,d[e.id]),disabled:!d[e.id],className:`text-sm font-medium px-2 py-1 rounded ${d[e.id]?"text-green-600 hover:text-green-700 hover:bg-green-50":"text-gray-400 cursor-not-allowed bg-gray-50"}`,children:u?"Mark Delivered":"ðŸ“¤ Mark (Offline)"})]}):e.status==="in_transit"?t.jsx("button",{onClick:()=>N(e.id),className:"text-sm text-green-600 hover:text-green-700 font-medium",children:u?"Mark Delivered":"ðŸ“¤ Mark (Offline)"}):e.status==="delivered"?t.jsxs("span",{className:"text-sm text-green-600",children:["âœ“ Delivered ",j.has(e.id)&&"(syncing...)"]}):null]})]},e.id)}):t.jsx("tr",{children:t.jsx("td",{colSpan:8,className:"px-6 py-12 text-center text-gray-500",children:"No deliveries found"})})})]})})]})]})}export{re as default};
//# sourceMappingURL=TripsDeliveries-BJgJCURR.js.map
